from news.models import *
user1 = User.objects.create(username = "Ivan")
user2 = User.objects.create(username = "Dima")
auf1 = Author.objects.create(user_id = user.id)
auf2 = Author.objects.create(user_id = user2.id)
cat1 = Category.objects.create(name = 'WorldNews')
cat2 = Category.objects.create(name = 'CountryNews')
cat3 = Category.objects.create(name = 'RegionNews')
cat4 = Category.objects.create(name = 'CityNews')
po1 = Post.objects.create(author = auf,text = 'Someone,Somewhere,Somehow did something',head='some',field="AR")
po2 = Post.objects.create(author = auf,text = 'You wouldnt belive, but in this city everything is Okey',head='Attantion',field="NW")
po3 = Post.objects.create(author = auf,text = 'You would belive and in this country everything is not Okey',head='Not Attantion',field="NW")
po1.category.add(cat1)
po1.category.add(cat2)
po2.category.add(cat3)
po2.category.add(cat4)
po3.category.add(cat1)
po3.category.add(cat2)
po3.category.add(cat3)
po3.category.add(cat4)
com1 = Comment.objects.create(post = po1,text = 'good',user_id = user2.id)
com2 = Comment.objects.create(post = po2,text = 'bad',user_id = user2.id)
com3 = Comment.objects.create(post = po3,text = 'normal',user_id = user2.id)
po1.like()
po2.like()
po2.like()
po3.like()
po3.like()
po3.like()
com1.like()
com1.like()
com1.like()
com1.like()
com2.like()
com3.like()
auf1.update_rating()
auf2.update_rating()
Author.objects.all().order_by('rating').first().rating
Author.objects.all().order_by('rating').first().user
